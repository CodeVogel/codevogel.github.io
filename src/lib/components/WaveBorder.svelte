<script lang="ts">
	import { onMount } from 'svelte';

	let speed = 2;
	let offsetX = 0;
	let scaleY = 5;
	const imageWidth = 1920;
	const resetPoint = (-imageWidth / 3) * 2;
	const animationRate = 1000 / 60; // 60 fps

	// While page is open, move the wave border to the left by speed.
	// If the offset is smaller than -imageWidth / 2, reset it to 0 and subtract the rest.
	onMount(() => {
		const interval = setInterval(() => {
			offsetX -= speed;
			if (offsetX === resetPoint) {
				offsetX = 0;
				console.log('reset', offsetX);
			}
			if (offsetX < resetPoint) {
				let rest = resetPoint - offsetX;
				offsetX = -rest;
				console.log('reset', offsetX);
			}
		}, animationRate);

		return () => clearInterval(interval);
	});
</script>

<div class="mt-[6rem] h-[4rem]">
	<svg
		id="Layer_2"
		data-name="Layer 2"
		xmlns="http://www.w3.org/2000/svg"
		viewBox="0 0 1080 49.87"
		height="100%"
		><defs
			><style>
				.wave-1 {
					fill: #0c0c0c;
				}
				.wave-2 {
					fill: #222222;
				}
				.wave-3 {
					fill: #151515;
				}
				.wave-4 {
					fill: #1b1b1b;
				}
			</style></defs
		>
		<g id="Layer_1-2" data-name="Layer 1" transform="translate({offsetX} 0)">
			<path
				class="wave-2"
				d="m0,49l7.11-.8c7.11-.9,21.33-2.5,35.56-2.7s28.44,1.2,42.67,2.2,28.44,1.6,42.67,2c14.22.3,28.44.3,42.67-.7s28.44-3,42.67-3.2c14.22-.1,28.44,1.5,42.67,1.5s28.44-1.6,42.67-2.3,28.44-.3,42.67.2,28.44,1.1,42.67,1.6,28.44.9,42.67,1.2,28.44.7,42.67.8c14.22.2,28.44.2,42.67-.6,14.22-.9,28.44-2.5,42.67-3s28.44.1,42.67.6,28.44.9,35.56,1l7.11.2V0H0v49Z"
			/>
			<path
				class="wave-4"
				d="m0,36l7.11.3c7.11.4,21.33,1,35.56.7s28.44-1.7,42.67-2,28.44.3,42.67,1.2c14.22.8,28.44,1.8,42.67,1.6,14.22-.1,28.44-1.5,42.67-1.6,14.22-.2,28.44.8,42.67,1.6,14.22.9,28.44,1.5,42.67,1.4,14.22-.2,28.44-1.2,42.67-1.2s28.44,1,42.67.8c14.22-.1,28.44-1.5,42.67-2.3s28.44-1.2,42.67-.5,28.44,2.3,42.67,3,28.44.3,42.67-.7,28.44-2.6,42.67-2.8,28.44,1.2,35.56,1.8l7.11.7V0H0v36Z"
			/>
			<path
				class="wave-3"
				d="m0,25l7.11,1c7.11,1,21.33,3,35.56,4s28.44,1,42.67.7c14.22-.4,28.44-1,42.67-1s28.44.6,42.67.8,28.44-.2,42.67-.7,28.44-1.1,42.67-1.5c14.22-.3,28.44-.3,42.67.2s28.44,1.5,42.67,1.5,28.44-1,42.67-1.3c14.22-.4,28.44,0,42.67.5s28.44,1.1,42.67.6,28.44-2.1,42.67-2.6,28.44.1,42.67.8,28.44,1.3,42.67,1.7c14.22.3,28.44.3,35.56.3h7.11V0H0v25Z"
			/>
			<path
				class="wave-1"
				d="m0,20l7.11-.5c7.11-.5,21.33-1.5,35.56-2.2,14.22-.6,28.44-1,42.67-1.1,14.22-.2,28.44-.2,42.67,0,14.22.1,28.44.5,42.67.6,14.22.2,28.44.2,42.67.4,14.22.1,28.44.5,42.67.6,14.22.2,28.44.2,42.67-.1,14.22-.4,28.44-1,42.67-.7s28.44,1.7,42.67,2.5,28.44,1.2,42.67.7,28.44-1.9,42.67-2.7,28.44-1.2,42.67-.8c14.22.3,28.44,1.3,42.67,1.8s28.44.5,42.67.7c14.22.1,28.44.5,35.56.6l7.11.2V0H0v20Z"
			/>
			<path
				d="m0,9l7.11-.3c7.11-.4,21.33-1,35.56-.9,14.22.2,28.44,1.2,42.67,1.5,14.22.4,28.44,0,42.67-.1,14.22-.2,28.44-.2,42.67-.7s28.44-1.5,42.67-1.7c14.22-.1,28.44.5,42.67,1s28.44.9,42.67.7,28.44-.8,42.67-1,28.44.2,42.67.2,28.44-.4,42.67-.5c14.22-.2,28.44-.2,42.67,0,14.22.1,28.44.5,42.67,1.3s28.44,2.2,42.67,2.7,28.44.1,42.67-.7,28.44-2.2,35.56-2.8l7.11-.7V0H0v9Z"
			/>
			<path
				class="wave-2"
				d="m1280,0h-7.11c-7.11,0-21.33,0-35.56,0h-42.67c-14.22,0-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0h-35.56s-7.11,0-7.11,0v47s7.11-.2,7.11-.2c7.11-.1,21.33-.5,35.56-1s28.44-1.1,42.67-.6,28.44,2.1,42.67,3c14.22.8,28.44.8,42.67.6,14.22-.1,28.44-.5,42.67-.8s28.44-.7,42.67-1.2c14.22-.5,28.44-1.1,42.67-1.6s28.44-.9,42.67-.2c14.22.7,28.44,2.3,42.67,2.3s28.44-1.6,42.67-1.5c14.22.2,28.44,2.2,42.67,3.2,14.22,1,28.44,1,42.67.7,14.22-.4,28.44-1,42.67-2s28.44-2.4,42.67-2.2c14.22.2,28.44,1.8,35.56,2.7l7.11.8V0Z"
			/>
			<path
				class="wave-4"
				d="m1280,0h-7.11c-7.11,0-21.33,0-35.56,0h-42.67c-14.22,0-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0h-35.56s-7.11,0-7.11,0v38s7.11-.7,7.11-.7c7.11-.6,21.33-2,35.56-1.8s28.44,1.8,42.67,2.8,28.44,1.4,42.67.7c14.22-.7,28.44-2.3,42.67-3s28.44-.3,42.67.5,28.44,2.2,42.67,2.3c14.22.2,28.44-.8,42.67-.8s28.44,1,42.67,1.2c14.22.1,28.44-.5,42.67-1.4,14.22-.8,28.44-1.8,42.67-1.6,14.22.1,28.44,1.5,42.67,1.6,14.22.2,28.44-.8,42.67-1.6,14.22-.9,28.44-1.5,42.67-1.2s28.44,1.7,42.67,2c14.22.3,28.44-.3,35.56-.7l7.11-.3V0Z"
			/>
			<path
				class="wave-3"
				d="m1280,0h-7.11c-7.11,0-21.33,0-35.56,0h-42.67c-14.22,0-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0h-35.56s-7.11,0-7.11,0v30s7.11,0,7.11,0c7.11,0,21.33,0,35.56-.3,14.22-.4,28.44-1,42.67-1.7s28.44-1.3,42.67-.8c14.22.5,28.44,2.1,42.67,2.6s28.44-.1,42.67-.6,28.44-.9,42.67-.5c14.22.3,28.44,1.3,42.67,1.3s28.44-1,42.67-1.5c14.22-.5,28.44-.5,42.67-.2,14.22.4,28.44,1,42.67,1.5s28.44.9,42.67.7c14.22-.2,28.44-.8,42.67-.8s28.44.6,42.67,1c14.22.3,28.44.3,42.67-.7,14.22-1,28.44-3,35.56-4l7.11-1V0Z"
			/>
			<path
				class="wave-1"
				d="m1280,0h-7.11c-7.11,0-21.33,0-35.56,0h-42.67c-14.22,0-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0h-35.56s-7.11,0-7.11,0v20s7.11-.2,7.11-.2c7.11-.1,21.33-.5,35.56-.6,14.22-.2,28.44-.2,42.67-.7s28.44-1.5,42.67-1.8c14.22-.4,28.44,0,42.67.8s28.44,2.2,42.67,2.7,28.44.1,42.67-.7c14.22-.8,28.44-2.2,42.67-2.5s28.44.3,42.67.7c14.22.3,28.44.3,42.67.1,14.22-.1,28.44-.5,42.67-.6,14.22-.2,28.44-.2,42.67-.4,14.22-.1,28.44-.5,42.67-.6,14.22-.2,28.44-.2,42.67,0,14.22.1,28.44.5,42.67,1.1,14.22.7,28.44,1.7,35.56,2.2l7.11.5V0Z"
			/>
			<path
				d="m1280,0h-7.11c-7.11,0-21.33,0-35.56,0h-42.67c-14.22,0-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-42.67c-14.22,0-28.44,0-42.67,0h-35.56s-7.11,0-7.11,0v7s7.11.7,7.11.7c7.11.6,21.33,2,35.56,2.8s28.44,1.2,42.67.7,28.44-1.9,42.67-2.7c14.22-.8,28.44-1.2,42.67-1.3,14.22-.2,28.44-.2,42.67,0,14.22.1,28.44.5,42.67.5,14.22,0,28.44-.4,42.67-.2s28.44.8,42.67,1c14.22.2,28.44-.2,42.67-.7s28.44-1.1,42.67-1c14.22.2,28.44,1.2,42.67,1.7,14.22.5,28.44.5,42.67.7,14.22.1,28.44.5,42.67.1,14.22-.3,28.44-1.3,42.67-1.5,14.22-.1,28.44.5,35.56.9l7.11.3V0Z"
			/>
			<path
				class="wave-2"
				d="m1280,49l7.11-.8c7.11-.9,21.33-2.5,35.56-2.7s28.44,1.2,42.67,2.2c14.22,1,28.44,1.6,42.67,2,14.22.3,28.44.3,42.67-.7,14.22-1,28.44-3,42.67-3.2,14.22-.1,28.44,1.5,42.67,1.5s28.44-1.6,42.67-2.3,28.44-.3,42.67.2,28.44,1.1,42.67,1.6c14.22.5,28.44.9,42.67,1.2,14.22.3,28.44.7,42.67.8,14.22.2,28.44.2,42.67-.6,14.22-.9,28.44-2.5,42.67-3,14.22-.5,28.44.1,42.67.6s28.44.9,35.56,1l7.11.2V0h-7.11c-7.11,0-21.33,0-35.56,0s-28.44,0-42.67,0h-85.33C1735.11,0,1720.89,0,1706.67,0h-42.67C1649.78,0,1635.56,0,1621.33,0h-128C1479.11,0,1464.89,0,1450.67,0c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-85.33v49Z"
			/>
			<path
				class="wave-4"
				d="m1280,36l7.11.3c7.11.4,21.33,1,35.56.7s28.44-1.7,42.67-2c14.22-.3,28.44.3,42.67,1.2,14.22.8,28.44,1.8,42.67,1.6,14.22-.1,28.44-1.5,42.67-1.6,14.22-.2,28.44.8,42.67,1.6,14.22.9,28.44,1.5,42.67,1.4,14.22-.2,28.44-1.2,42.67-1.2s28.44,1,42.67.8c14.22-.1,28.44-1.5,42.67-2.3,14.22-.8,28.44-1.2,42.67-.5s28.44,2.3,42.67,3,28.44.3,42.67-.7c14.22-1,28.44-2.6,42.67-2.8s28.44,1.2,35.56,1.8l7.11.7V0h-7.11c-7.11,0-21.33,0-35.56,0s-28.44,0-42.67,0h-85.33C1735.11,0,1720.89,0,1706.67,0h-42.67C1649.78,0,1635.56,0,1621.33,0h-128C1479.11,0,1464.89,0,1450.67,0c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-85.33v36Z"
			/>
			<path
				class="wave-3"
				d="m1280,25l7.11,1c7.11,1,21.33,3,35.56,4s28.44,1,42.67.7c14.22-.4,28.44-1,42.67-1s28.44.6,42.67.8c14.22.2,28.44-.2,42.67-.7s28.44-1.1,42.67-1.5c14.22-.3,28.44-.3,42.67.2s28.44,1.5,42.67,1.5,28.44-1,42.67-1.3c14.22-.4,28.44,0,42.67.5,14.22.5,28.44,1.1,42.67.6s28.44-2.1,42.67-2.6,28.44.1,42.67.8c14.22.7,28.44,1.3,42.67,1.7,14.22.3,28.44.3,35.56.3h7.11S1920,0,1920,0h-7.11c-7.11,0-21.33,0-35.56,0s-28.44,0-42.67,0h-85.33C1735.11,0,1720.89,0,1706.67,0h-42.67C1649.78,0,1635.56,0,1621.33,0h-128C1479.11,0,1464.89,0,1450.67,0c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-85.33v25Z"
			/>
			<path
				class="wave-1"
				d="m1280,20l7.11-.5c7.11-.5,21.33-1.5,35.56-2.2,14.22-.6,28.44-1,42.67-1.1,14.22-.2,28.44-.2,42.67,0,14.22.1,28.44.5,42.67.6,14.22.2,28.44.2,42.67.4,14.22.1,28.44.5,42.67.6,14.22.2,28.44.2,42.67-.1,14.22-.4,28.44-1,42.67-.7s28.44,1.7,42.67,2.5c14.22.8,28.44,1.2,42.67.7,14.22-.5,28.44-1.9,42.67-2.7s28.44-1.2,42.67-.8c14.22.3,28.44,1.3,42.67,1.8,14.22.5,28.44.5,42.67.7,14.22.1,28.44.5,35.56.6l7.11.2V0h-7.11c-7.11,0-21.33,0-35.56,0s-28.44,0-42.67,0h-85.33C1735.11,0,1720.89,0,1706.67,0h-42.67C1649.78,0,1635.56,0,1621.33,0h-128C1479.11,0,1464.89,0,1450.67,0c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-85.33v20Z"
			/>
			<path
				d="m1280,9l7.11-.3c7.11-.4,21.33-1,35.56-.9,14.22.2,28.44,1.2,42.67,1.5,14.22.4,28.44,0,42.67-.1,14.22-.2,28.44-.2,42.67-.7,14.22-.5,28.44-1.5,42.67-1.7,14.22-.1,28.44.5,42.67,1s28.44.9,42.67.7,28.44-.8,42.67-1,28.44.2,42.67.2c14.22,0,28.44-.4,42.67-.5,14.22-.2,28.44-.2,42.67,0,14.22.1,28.44.5,42.67,1.3s28.44,2.2,42.67,2.7c14.22.5,28.44.1,42.67-.7s28.44-2.2,35.56-2.8l7.11-.7V0h-7.11c-7.11,0-21.33,0-35.56,0s-28.44,0-42.67,0h-85.33C1735.11,0,1720.89,0,1706.67,0h-42.67C1649.78,0,1635.56,0,1621.33,0h-128C1479.11,0,1464.89,0,1450.67,0c-14.22,0-28.44,0-42.67,0s-28.44,0-42.67,0h-85.33v9Z"
			/>
		</g>
	</svg>
</div>
